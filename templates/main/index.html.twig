{% extends 'base.html.twig' %}

{% block title %}Emploi du Temps{% endblock %}

{% block css %}
    <style>
        body {
            margin: 20px 0 0 20px;
            font-size: 14px;
            font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
           
        }
        #calendrierGauche{
            float:left;
            width: 20%;
            height: 310px;
            margin: 0 20px 20px 0;
            font-size:10px;
            
        }
        #calendrier{
            float: right;
            width: 75%;
            height: 620px;
            margin: 0 20px 20px 0;
            position: relative;
        }
    </style>
{% endblock %}

{% block body %}
    <div id="calendrierGauche"></div>
    <div id="calendrier"></div>
    
    <style>
    .button {
        background-color: #1c87c9;
        border: none;
        color: white;
        padding: 10px 14px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 15px;
        margin: 0px 10px 10px 0px;   
        cursor: pointer;
        }
    </style>

    <a href="" class="button">Exporter en PDF</a>
    <a href="http://127.0.0.1:8000/admin" class="button">Modifier</a>
{% endblock %}

{% block js %}
    <script> 
        window.onload =() => {
            let calendarElt = document.querySelector("#calendrier");
            let calendrierElt = document.querySelector("#calendrierGauche");

            let calendar =  new FullCalendar.Calendar(calendarElt,{
                initialView: 'timeGridWeek',
                allDaySlot: false,
                weekends : false,
                locale: 'nl',
                timezone: 'local',
                nowIndicator: true,
                slotDuration: '00:30:00',
                slotMinTime: "08:00:00",
                slotMaxTime: "21:00:00",
                firstDay: 1,
                locale : 'fr',
                timezone : 'Europe/Paris',
                headerToolbar : {
                    start : 'prev today next',
                    center : 'title',
                    end : 'dayGridMonth,timeGridWeek,dayGridDay',
                },
                buttonText : {
                    today : 'Aujourd\'hui',
                    month : 'Mois',
                    week : 'Semaine',
                    day : 'Jour',
                    list : 'Liste',
                },
                events: {{ data|raw }}
            });
            let calendrier =  new FullCalendar.Calendar(calendrierElt,{
                initialView: 'dayGridMonth',
                navLinks: true,
                firstDay: 1,
                weekends : false,
                locale : 'fr',
                timezone : 'Europe/Paris',
                buttonText : {
                    today : 'Aujourd\'hui',
                    month : 'Mois',
                    week : 'Semaine',
                    day : 'Jour',
                    list : 'Liste',
                },
                headerToolbar : {
                    start : 'prev',
                    center : 'today dayGridMonth',
                    end : 'next',
                },
                events: {{ data|raw }}
            });
        calendrier.render();
        calendar.render();
        };  
    </script>
{% endblock %}
