{% extends 'base.html.twig' %}

{% block title %}Hello MainController!{% endblock %}

{% block css %}
    <style>
        #calendrier{
            width:80%;
            margin:auto;
        }
    </style>
{% endblock %}

{% block body %}
{{dump(data)}}    
<div id="calendrier">
    </div>
{% endblock %}

{% block js %}
    <script> 
        window.onload =() => {
            let calendarElt =document.querySelector("#calendrier")

            let calendar =  new FullCalendar.Calendar(calendarElt,{
                initialView: 'timeGridWeek',
                locale : 'fr',
                timezone : 'Europe/Paris',
                headerToolbar : {
                    start : 'prev,next today',
                    center : 'title',
                    end : 'dayGridMonth,timeGridWeek,dayGridDay',
                    
                },
                buttonText : {
                    today : 'Aujourd\'hui',
                    month : 'Mois',
                    week : 'Semaine',
                    day : 'Jour',
                    list : 'Liste',
                },
                events: {{ data|raw }}
            })     
        calendar.render()
        }
    </script>
{% endblock %}
